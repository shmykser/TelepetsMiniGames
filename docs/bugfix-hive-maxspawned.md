# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –£–ª–µ–π –Ω–µ —Å–ø–∞–≤–Ω–∏—Ç –æ—Å - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç maxSpawned

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —É–ª–µ–π –≤—Å–µ –µ—â–µ –Ω–µ —Å–ø–∞–≤–Ω–∏–ª –æ—Å –ø–æ —Ç–∞–π–º–µ—Ä—É. –õ–æ–≥–∏ –ø–æ–∫–∞–∑–∞–ª–∏:

```
üè† [HIVE] SpawnAttackStrategy –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω: interval=8000ms, spawnType=wasp, maxSpawned=null
üè† [HIVE] canSpawn: timeSince=10126ms >= interval=8000ms, spawned=0/null -> false
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç**: `maxSpawned=null`, –∏–∑-–∑–∞ —á–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ `spawnedCount < this.maxSpawned` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `false`.

## –ü—Ä–∏—á–∏–Ω–∞

–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–ª—å—è (`src/types/enemyTypes.js`) **–æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `maxSpawned`** –≤ —Å–µ–∫—Ü–∏–∏ `attack`:

```javascript
hive: {
    attack: {
        strategy: 'spawn',
        spawnInterval: 8000,
        minSpawnCount: 1,
        maxSpawnCount: 3,
        spawnRange: 80,
        spawnType: 'wasp',
        spawnDirection: 'circle'
        // ‚ùå maxSpawned –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!
    }
}
```

–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —É –¥—Ä—É–≥–∏—Ö —Å–ø–∞–≤–Ω–µ—Ä–æ–≤ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
- `spiderQueen`: `maxSpawned: 20`
- `wasp`: `maxSpawned: 5`

### –ü–æ—á–µ–º—É –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ?

–í `SpawnAttackStrategy.js` (—Å—Ç—Ä–æ–∫–∞ 13):
```javascript
this.maxSpawned = this.config?.get('maxSpawned', 10);
```

–î–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (10) –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–æ—Å—å –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `SystemConfig.get()` –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (—Å—Ç—Ä–æ–∫–∞ 43 `SystemConfig.js`):

```javascript
const nestedValue = source.get(key, undefined);
if (nestedValue !== undefined) {
    value = nestedValue;
    break;
}
```

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ `SystemConfig` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è `undefined` –≤–º–µ—Å—Ç–æ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–≤—Ä–∞—Ç—É `null`/`undefined` –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –¥–µ—Ñ–æ–ª—Ç–∞.

## –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `maxSpawned: 20` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —É–ª—å—è:

```javascript
// src/types/enemyTypes.js
hive: {
    attack: {
        strategy: 'spawn',
        spawnInterval: 8000,
        minSpawnCount: 1,
        maxSpawnCount: 3,
        spawnRange: 80,
        spawnType: 'wasp',
        spawnDirection: 'circle',
        maxSpawned: 20  // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
    }
}
```

### –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

- –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–ø–∞–≤–Ω–∞: 8 —Å–µ–∫—É–Ω–¥
- –ó–∞ 2 –º–∏–Ω—É—Ç—ã –∏–≥—Ä—ã: 120 / 8 = 15 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–ø–∞–≤–Ω–æ–≤
- `maxSpawned: 20` –¥–∞–µ—Ç –∑–∞–ø–∞—Å + –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å –æ—Ç –æ–¥–Ω–æ–≥–æ —É–ª—å—è

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/types/enemyTypes.js` - –¥–æ–±–∞–≤–ª–µ–Ω `maxSpawned: 20` –¥–ª—è —É–ª—å—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–≥–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑–∞—Ç—å:
```
üè† [HIVE] SpawnAttackStrategy –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω: interval=8000ms, spawnType=wasp, maxSpawned=20
üè† [HIVE] canSpawn: timeSince=10126ms >= interval=8000ms, spawned=0/20 -> true
üè† [HIVE] performSpawn: spawning 2x wasp at range=80
üè† [HIVE] Spawned: 2 enemies, total=2/20
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–≠—Ç–æ —Ç—Ä–µ—Ç—å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–µ—Ä–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ —Å–ø–∞–≤–Ω–æ–º —É–ª—å—è:
1. **bugfix-wasp-spawn.md** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ `SystemConfig`
2. **bugfix-hive-spawn-final.md** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–∑–æ–≤–∞ `attack()` –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ 'spawn'
3. **bugfix-hive-maxspawned.md** (—Ç–µ–∫—É—â–µ–µ) - –¥–æ–±–∞–≤–ª–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä `maxSpawned`

–í—Å–µ —Ç—Ä–∏ –ø—Ä–æ–±–ª–µ–º—ã –±—ã–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.

