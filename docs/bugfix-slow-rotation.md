# Исправление медленных поворотов врагов

## Проблема

После реализации плавных поворотов враги продолжали идти боком и очень медленно разворачивались (только ближе к яйцу). Даже увеличение `rotationSpeed` в коде в 100 раз не давало эффекта.

## Причина

В конфигурации `enemyTypes.js` у всех врагов уже были заданы **очень медленные** значения `rotationSpeed`, которые **перезаписывали** дефолтное значение из `LinearMovementStrategy.js`:

```javascript
beetle: {
    movement: {
        strategy: 'linear',
        speed: 30,
        rotationSpeed: 0.1  // ← Проблема!
    }
}
```

### Что это означало:

- `rotationSpeed: 0.1` радиан/сек = ~5.7 градусов/сек
- Поворот на 180° занимал **~31 секунду**!
- Враги просто не успевали разворачиваться и шли боком

### Почему код не помогал:

```javascript
// В LinearMovementStrategy.js
this.rotationSpeed = movementConfig.rotationSpeed || 18.0;
//                    ^^^^^^^^^^^^^^^^^^^^^^^^ 
//                    Если в конфиге есть значение - используется оно!
```

Конфигурация из `enemyTypes.js` имеет приоритет над дефолтным значением.

## Решение

Заменил все медленные значения `rotationSpeed` в `enemyTypes.js` на быстрые (увеличил в ~100 раз):

| Было | Стало | Описание |
|------|-------|----------|
| 0.05 | 5.0   | Медленный (~3°/сек → ~286°/сек) |
| 0.08 | 8.0   | Средне-медленный (~5°/сек → ~458°/сек) |
| 0.1  | 10.0  | Медленный (~6°/сек → ~573°/сек) |
| 0.15 | 15.0  | Средний (~9°/сек → ~860°/сек) |
| 0.2  | 20.0  | Быстрый (~11°/сек → ~1146°/сек) |

### Новые параметры поворотов:

- **10.0 рад/сек** (~573°/сек): Поворот на 180° за ~0.31 сек
- **15.0 рад/сек** (~860°/сек): Поворот на 180° за ~0.21 сек
- **20.0 рад/сек** (~1146°/сек): Поворот на 180° за ~0.16 сек

Теперь враги быстро разворачиваются и двигаются лицом по направлению движения!

## Изменения

### `src/types/enemyTypes.js`

Заменены значения `rotationSpeed` для всех врагов:
- `unknown`: 0.1 → 10.0
- `ant`: 0.15 → 15.0
- `dragonfly`: 0.15 → 15.0
- `beetle`: 0.1 → 10.0
- `rhinoceros`: 0.05 → 5.0
- `spider`: 0.1 → 10.0
- `firefly`: 0.08 → 8.0
- `moth`: 0.2 → 20.0
- `mosquito`: 0.15 → 15.0
- `wasp`: 0.1 → 10.0
- `spiderQueen`: 0.08 → 8.0
- `scorpion`: 0.1 → 10.0
- `butterfly`: 0.1 → 10.0 (был 0.12)
- `mole`: 0.1 → 10.0
- `bee`: 0.2 → 20.0
- `flyingFrog`: 0.2 → 20.0
- `hive`: 0 (без изменений - статичный)

### `src/systems/strategies/movement/LinearMovementStrategy.js`

Удалены отладочные логи, добавленные для диагностики проблемы.

## Тестирование

1. Запустить игру
2. Заспавнить врагов (жук, паук, муравей)
3. Разместить камни для активации pathfinding
4. ✅ Враги должны быстро поворачиваться лицом к направлению движения
5. ✅ Не должны идти боком
6. ✅ Повороты должны быть плавными, не мгновенными

## Урок

**Конфигурация из `enemyTypes.js` имеет приоритет над дефолтными значениями в коде стратегий!**

При добавлении новых параметров в стратегии движения, нужно проверять существующие конфигурации врагов и обновлять их соответственно.

## Дата
18.10.2025

