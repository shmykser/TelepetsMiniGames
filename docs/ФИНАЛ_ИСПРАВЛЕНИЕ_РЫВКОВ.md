# üéØ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä—ã–≤–∫–æ–≤ –≤—Ä–∞–≥–æ–≤ - –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï

## üêõ –ë–∞–≥
–ñ—É–∫ –∏ –ø–∞—É–∫ –¥–≤–∏–≥–∞–ª–∏—Å—å —Ä—ã–≤–∫–∞–º–∏: 1 —Å–µ–∫ –¥–≤–∏–∂–µ–Ω–∏–µ ‚Üí 1 —Å–µ–∫ —Å—Ç–æ–ø ‚Üí –ø–æ–≤—Ç–æ—Ä
–ú—É—Ä–∞–≤–µ–π –¥–≤–∏–≥–∞–ª—Å—è –ø–ª–∞–≤–Ω–æ.

## üîç –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
**`LinearMovementStrategy.isTargetReached()` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `effectiveAttackRange` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è waypoints!**

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ:
- –ñ—É–∫: `attack.range = 35` ‚Üí `effectiveRange ‚âà 90` –ø–∏–∫—Å–µ–ª–µ–π
- –ü–∞—É–∫: `attack.range = 0` ‚Üí `effectiveRange ‚âà 55` –ø–∏–∫—Å–µ–ª–µ–π  
- –ú—É—Ä–∞–≤–µ–π: `attack.range = -40` (!) ‚Üí `effectiveRange ‚âà 10` –ø–∏–∫—Å–µ–ª–µ–π

–ñ—É–∫/–ø–∞—É–∫ "–¥–æ—Å—Ç–∏–≥–∞–ª–∏" waypoint –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ 90/55 –ø–∏–∫—Å–µ–ª–µ–π –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏—Å—å.
–ú—É—Ä–∞–≤–µ–π –¥–æ–ª–∂–µ–Ω –±—ã–ª —Ä–µ–∞–ª—å–Ω–æ –¥–æ—Å—Ç–∏—á—å —Ç–æ—á–∫–∏ (10 –ø–∏–∫—Å–µ–ª–µ–π), –ø–æ—ç—Ç–æ–º—É –¥–≤–∏–≥–∞–ª—Å—è –ø–ª–∞–≤–Ω–æ.

### –ò–∑ –ª–æ–≥–æ–≤:
```
üêû [beetle] ‚ùå –ù–ï–£–î–ê–ß–ê (–ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ, doAttack=false)
üêû [beetle] üìç –ö–û–î –î–û–®–ï–õ –î–û –°–ï–ö–¶–ò–ò –î–í–ò–ñ–ï–ù–ò–Ø
üêû [LinearStrategy] –¥–∏—Å—Ç–∞–Ω—Ü–∏—è=0, effectiveRange=90, targetReached=true
üêû [LinearStrategy] ‚õî –¶–ï–õ–¨ –î–û–°–¢–ò–ì–ù–£–¢–ê - –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú–°–Ø
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

**–ó–∞–º–µ–Ω–∏–ª–∏ `effectiveAttackRange` –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `MOVEMENT_TOLERANCE = 10` –ø–∏–∫—Å–µ–ª–µ–π.**

```javascript
// src/systems/strategies/movement/LinearMovementStrategy.js
isTargetReached(target) {
    const distance = GeometryUtils.distance(...);
    const MOVEMENT_TOLERANCE = 10; // ‚Üê –§–ò–ö–°!
    return distance <= MOVEMENT_TOLERANCE;
}
```

### –õ–æ–≥–∏–∫–∞:
- **–ó–∞–¥–∞—á–∞ MovementStrategy** = –¥–æ–≤–µ—Å—Ç–∏ –¥–æ —Ç–æ—á–∫–∏
- **–ó–∞–¥–∞—á–∞ AttackSystem** = –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–¥–∏—É—Å –∞—Ç–∞–∫–∏
- –≠—Ç–∏ —Ä–∞—Å—á–µ—Ç—ã –ù–ï –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è!

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è
1. `src/systems/strategies/movement/LinearMovementStrategy.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω `isTargetReached()`
2. –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∂—É–∫–∞/–ø–∞—É–∫–∞ –∏–∑:
   - `LinearMovementStrategy.js`
   - `AICoordinator.js`
   - `MovementSystem.js`
   - `AttackSystem.js`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ó–∞—Å–ø–∞–≤–Ω–∏—Ç—å –∂—É–∫–æ–≤, –ø–∞—É–∫–æ–≤, –º—É—Ä–∞–≤—å—ë–≤
2. –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫–∞–º–Ω–∏ (–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å pathfinding)
3. ‚úÖ –í—Å–µ –¥–≤–∏–≥–∞—é—Ç—Å—è –ø–ª–∞–≤–Ω–æ
4. ‚úÖ –ê—Ç–∞–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìÖ –î–∞—Ç–∞
18.10.2025

